/*********************************************************************
*
*   HEADER NAME:
*       ccan_rom.h
*
* Copyright 2002-2015 by Garmin Ltd. or its subsidiaries.
*********************************************************************/

#ifndef CCAN_ROM_H_
#define CCAN_ROM_H_

/*--------------------------------------------------------------------
                           GENERAL INCLUDES
--------------------------------------------------------------------*/

#include "chip.h"
#include "LPC11xx_ccan_registers.h"

/*--------------------------------------------------------------------
                          LITERAL CONSTANTS
--------------------------------------------------------------------*/

#define TEST_CCAN_BAUD_RATE 250000
#define IE 1
#define MSGVAL 15
#define TXRQST 8

/*--------------------------------------------------------------------
                                TYPES
--------------------------------------------------------------------*/

/*--------------------------------------------------------------------
                           PROJECT INCLUDES
--------------------------------------------------------------------*/

/*--------------------------------------------------------------------
                           MEMORY CONSTANTS
--------------------------------------------------------------------*/

/*--------------------------------------------------------------------
                              VARIABLES
--------------------------------------------------------------------*/
extern unsigned int error_count;
extern unsigned int tx_isr_count;
/*--------------------------------------------------------------------
                                MACROS
--------------------------------------------------------------------*/

/*--------------------------------------------------------------------
                              PROCEDURES
--------------------------------------------------------------------*/

void baudrateCalculate
    (
    uint32_t baud_rate,
    uint32_t *can_api_timing_cfg
    );

void CAN_rx
    (
    uint8_t msg_obj_num
    );

void CAN_tx
    (
    uint8_t msg_obj_num
    );

void CAN_error
    (
    uint32_t error_info
    );

void CAN_IRQHandler
    (
    void
    );

void ccan_rom_init
    (
    void
    );

#endif /* CCAN_ROM_H_ */
