/*
 * roveTcpHandler.c
 *
 *  Created on: Jan 22, 2015
 *      Author: owen
 */

#include "roveTcpHandler.h"

Void roveTcpHandler(UArg arg0, UArg arg1)
{
	//Allocate variables
    int                status;

    //These are going to be references to sockets
    int                clientfd;
    int                listen_socket;
    struct sockaddr_in localAddr;
    struct sockaddr_in clientAddr;
    int                optval;
    int                optlen = sizeof(optval);
    socklen_t          addrlen = sizeof(clientAddr);

    //----Create socket that will be used to listen
    listen_socket = socket(AF_INET, SOCK_STREAM, IPPROTO_TCP);
        if (server == -1) {
            System_printf("Error: socket not created.\n");
            goto shutdown;
        }

    //----Define Socket options
	memset(&localAddr, 0, sizeof(localAddr));
	//Use IPv4
	localAddr.sin_family = AF_INET;
	//Allow any IP to connect
	localAddr.sin_addr.s_addr = htonl(INADDR_ANY);
	//Connect on port TCPPORT
	localAddr.sin_port = htons(arg0);


	System_printf("Tcp Handler Task Created\n");
	System_flush();

	System_printf("Tcp Handler Task Exit\n");
	System_flush();
}


