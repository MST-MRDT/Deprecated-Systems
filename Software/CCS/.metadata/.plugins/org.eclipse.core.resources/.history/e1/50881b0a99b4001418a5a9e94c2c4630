/*
 * roveTelemController.c
 *
 *  Created on: Feb 14, 2015
 *      Author: mrdtdev
 */

#include "roveTelemController.h"

Void roveTelemController(UArg arg0, UArg arg1)
{

	package_telem_struct

	// Package Telem Struct
	struct package_telem_struct package_telem_struct;

	// Motor Data Struct
	struct motor_data_struct motor_data_struct;

	while(1)
	{
		System_printf("roveTelemController is waiting for a message\n");
		System_flush();

		// Read Uart Mailbox
		Mailbox_pend(fromUartsMailbox, &motor_data_struct, BIOS_WAIT_FOREVER);

		generate_json_strings(json, "0000", "GPS Data Valid");


	}//endwhile

		/*Void roveTcpSender(UArg arg0, UArg arg1)
		{

		    int  clientfd = (int)arg0;
		    int  bytesSent;
		    int  KEEPALIVE_SIZE = 9;
		    int  isConnected = CONNECTED;
		    System_printf("roveTcpSender: start thread for = 0x%x\n", clientfd);
		    while(isConnected == CONNECTED)
		    {
		    	//Mailbox pend will go here. For now it will just send a keepalive after 2
		    	Task_sleep(2000);

		        bytesSent = send(clientfd, "keepalive", KEEPALIVE_SIZE, 0);

		        if (bytesSent < 0 || bytesSent != KEEPALIVE_SIZE) {
		            System_printf("Error: send failed.\n");
		            isConnected = NOT_CONNECTED;
		        }


		    }

		    System_printf("roveTcpSender: stop thread for = 0x%x\n", clientfd);
		    Task_exit();
		}*/

}//endfnct roveTelemContoller



